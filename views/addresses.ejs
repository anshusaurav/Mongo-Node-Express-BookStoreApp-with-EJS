<%- include('partials/header') -%>
<div class='address-container'>
    <h2 class='address-header'>Your Addresses</h2>
    <div class='address-main-grid'>
        <a href='/addresses/add' class='address-main-grid-elem add-address-button'>
            <div>
                <div>
                    <div class='address-add-sign'>
                        <i class="fas fa-plus"></i>
                    </div>
                    <p>Add address</p>
                </div>
            </div>
        </a>
        
        <% addresses.forEach(address => { %> 
            <div class='address-main-grid-elem'>
                <% if(user && user.hasDefaultAddress && user.defaultAddress == address.id){%> 
                <div class='is-default-address'><p>Default</p></div>
                <%}else{%>
                    <div class='not-default-address'></div>
                <%}%>
                <div class='address-general-elem'>
                    <ul class='address-elem-grid'>
                        <li class='address-elem-name'>
                            <%=address.name %>
                        </li>
                        <li>
                            <%=address.street %>
                        </li>
                        <li>
                            <%=address.city %>
                        </li>
                        <li>
                            <%=address.zip %>
                        </li>
                        <li>
                            <%=address.state %>
                        </li>
                        <li>
                            <%=address.number %>
                        </li>
                        <li class='address-elem-special'>
                            <a href='/addresses/<%=address.id %>/makedefault'>Make Default</a>
                            <a href='/addresses/<%=address.id %>/edit'>Edit</a>
                            <a href='/addresses/<%=address.id %>/delete'>Delete</a>
                        </li>
                    </ul>
                </div>
            </div>
            <%})%>
        
    </div>
</div>  
<%- include('partials/footer') -%>